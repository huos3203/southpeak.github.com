<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="忽悠一个月又过去了，今年的9月还是挺精彩的。苹果发布iPhone 6s，iPad Pro，iOS 9，让我们又有很多活可做了；然后是XCodeGoast搅得圈内沸沸扬扬的，居然还惊动了CCAV；再然后苏宁的小伙伴们给大家送上了一份中秋礼物，虽然是老代码，但这是要搞哪样啊？不过，正是这些事情为我等屌丝的生活平添了许多的乐趣，还是挺酸爽的嘛。
嗯，回到正题上来。这期的知识小集主要是Swift开发的一些">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS知识小集 第5期(2015.09.26)">
<meta property="og:url" content="http://southpeak.github.io/2015/09/26/ios-techset-5/index.html">
<meta property="og:site_name" content="南峰子的技术博客">
<meta property="og:description" content="忽悠一个月又过去了，今年的9月还是挺精彩的。苹果发布iPhone 6s，iPad Pro，iOS 9，让我们又有很多活可做了；然后是XCodeGoast搅得圈内沸沸扬扬的，居然还惊动了CCAV；再然后苏宁的小伙伴们给大家送上了一份中秋礼物，虽然是老代码，但这是要搞哪样啊？不过，正是这些事情为我等屌丝的生活平添了许多的乐趣，还是挺酸爽的嘛。
嗯，回到正题上来。这期的知识小集主要是Swift开发的一些">
<meta property="og:updated_time" content="2016-08-31T01:10:36.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS知识小集 第5期(2015.09.26)">
<meta name="twitter:description" content="忽悠一个月又过去了，今年的9月还是挺精彩的。苹果发布iPhone 6s，iPad Pro，iOS 9，让我们又有很多活可做了；然后是XCodeGoast搅得圈内沸沸扬扬的，居然还惊动了CCAV；再然后苏宁的小伙伴们给大家送上了一份中秋礼物，虽然是老代码，但这是要搞哪样啊？不过，正是这些事情为我等屌丝的生活平添了许多的乐趣，还是挺酸爽的嘛。
嗯，回到正题上来。这期的知识小集主要是Swift开发的一些">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://southpeak.github.io/2015/09/26/ios-techset-5/"/>

  <title> iOS知识小集 第5期(2015.09.26) | 南峰子的技术博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-68856508-1', 'auto');
  ga('send', 'pageview');
</script>







  <div style="display: none;">
    <script src="http://s95.cnzz.com/z_stat.php?id=1000523916&web_id=1000523916" language="JavaScript"></script>
  </div>





  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">南峰子的技术博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">攀登，一步一个脚印，方能知其乐</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-techset">
          <a href="/categories/techset" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-fighter-jet"></i> <br />
            
            知识小集
          </a>
        </li>
      
        
        <li class="menu-item menu-item-swift">
          <a href="/categories/swift" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-space-shuttle"></i> <br />
            
            Swift
          </a>
        </li>
      
        
        <li class="menu-item menu-item-objectivec">
          <a href="/categories/objectivec" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-taxi"></i> <br />
            
            Objective-C
          </a>
        </li>
      
        
        <li class="menu-item menu-item-cocoa">
          <a href="/categories/cocoa" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-subway"></i> <br />
            
            Cocoa
          </a>
        </li>
      
        
        <li class="menu-item menu-item-translate">
          <a href="/categories/translate" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-rocket"></i> <br />
            
            翻译
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sourcecode">
          <a href="/categories/sourcecode" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-train"></i> <br />
            
            源码分析
          </a>
        </li>
      
        
        <li class="menu-item menu-item-something">
          <a href="/categories/something" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-bicycle"></i> <br />
            
            杂项
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                iOS知识小集 第5期(2015.09.26)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-09-26T23:42:33+08:00" content="2015-09-26">
              2015-09-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/techset/" itemprop="url" rel="index">
                    <span itemprop="name">知识小集</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>忽悠一个月又过去了，今年的9月还是挺精彩的。苹果发布<code>iPhone 6s</code>，<code>iPad Pro</code>，<code>iOS 9</code>，让我们又有很多活可做了；然后是<code>XCodeGoast</code>搅得圈内沸沸扬扬的，居然还惊动了<code>CCAV</code>；再然后苏宁的小伙伴们给大家送上了一份中秋礼物，虽然是老代码，但这是要搞哪样啊？不过，正是这些事情为我等屌丝的生活平添了许多的乐趣，还是挺酸爽的嘛。</p>
<p>嗯，回到正题上来。这期的知识小集主要是<code>Swift</code>开发的一些内容，主要的内容有三点：</p>
<ol>
<li><code>Swift</code>中随机数的使用</li>
<li><code>Swift</code>中<code>String</code>与<code>CChar</code>数组的转换</li>
<li><code>Swift</code>中<code>Selector</code>方法的访问权限控制问题</li>
</ol>
<p>相对<code>Objective-C</code>来说，个人觉得<code>Swift</code>写起来大多数时候还是挺爽的，简洁多了，以后有事没事还是多撸撸<code>Swift</code>。</p>
<h2 id="Swift中随机数的使用"><a href="#Swift中随机数的使用" class="headerlink" title="Swift中随机数的使用"></a>Swift中随机数的使用</h2><p>在我们开发的过程中，时不时地需要产生一些随机数。这里我们总结一下<code>Swift</code>中常用的一些随机数生成函数。这里我们将在<code>Playground</code>中来做些示例演示。</p>
<h3 id="整型随机数"><a href="#整型随机数" class="headerlink" title="整型随机数"></a>整型随机数</h3><p>如果我们想要一个整型的随机数，则可以考虑用<code>arc4random</code>系列函数。我们可以通过<code>man arc4random</code>命令来看一下这个函数的定义：</p>
<blockquote>
<p>The arc4random() function uses the key stream generator employed by the arc4 cipher, which uses 8*8 8 bit S-Boxes.  The S-Boxes can be inabout (2^1700) states.  The arc4random() function returns pseudo-random numbers in the range of 0 to (2^32)-1, and therefore has twice the range of rand(3) and random(3).</p>
</blockquote>
<p><code>arc4random</code>使用了<code>arc4密码</code>加密的<code>key stream</code>生成器(请脑补)，产生一个<code>[0, 2^32)</code>区间的随机数(注意是左闭右开区间)。这个函数的返回类型是<code>UInt32</code>。如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arc4random()				// 2,919,646,954</div></pre></td></tr></table></figure>
<p>如果我们想生成一个指定范围内的整型随机数，则可以使用<code>arc4random() % upper_bound</code>的方式，其中<code>upper_bound</code>指定的是上边界，如下处理：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arc4random() % 10			// 8</div></pre></td></tr></table></figure>
<p>不过使用这种方法，在<code>upper_bound</code>不是2的幂次方时，会产生一个所谓<a href="http://eternallyconfuzzled.com/arts/jsw_art_rand.aspx" target="_blank" rel="external">Modulo bias(模偏差)</a>的问题。</p>
<p>我们在控制台中通过<code>man arc4random</code>命令，可以查看<code>arc4random</code>的文档，有这么一条：</p>
<blockquote>
<p>arc4random_uniform() will return a uniformly distributed random number less than upper_bound.  arc4random_uniform() is recommended over constructions like ‘’arc4random() % upper_bound’’ as it avoids “modulo bias” when the upper bound is not a power of two.</p>
</blockquote>
<p>因此可以使用<code>arc4random_uniform</code>，它接受一个<code>UInt32</code>类型的参数，指定随机数区间的上边界<code>upper_bound</code>，该函数生成的随机数范围是<code>[0, upper_bound)</code>，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arc4random_uniform(10)		// 6</div></pre></td></tr></table></figure>
<p>而如果想指定区间的最小值（如随机数区间在<code>[5, 100)</code>），则可以如下处理：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let max: UInt32 = 100</div><div class="line">let min: UInt32 = 5</div><div class="line">arc4random_uniform(max - min) + min			// 82</div></pre></td></tr></table></figure>
<p>当然，在<code>Swift</code>中也可以使用传统的<code>C</code>函数<code>rand</code>与<code>random</code>。不过这两个函数有如下几个缺点：</p>
<ol>
<li>这两个函数都需要初始种子，通常是以当前时间来确定。</li>
<li>这两个函数的上限在<code>RAND_MAX=0X7fffffff(2147483647)</code>，是<code>arc4random</code>的一半。</li>
<li><code>rand</code>函数以有规律的低位循环方式实现，更容易预测</li>
</ol>
<p>我们以<code>rand</code>为例，看看其使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">srand(UInt32(time(nil)))            // 种子,random对应的是srandom</div><div class="line">rand()								// 1,314,695,483</div><div class="line">rand() % 10							// 8</div></pre></td></tr></table></figure>
<h3 id="64位整型随机数"><a href="#64位整型随机数" class="headerlink" title="64位整型随机数"></a>64位整型随机数</h3><p>在大部分应用中，上面讲到的几个函数已经足够满足我们获取整型随机数的需求了。不过我们看看它们的函数声明，可以发现这些函数主要是针对<code>32</code>位整型来操作的。如果我们需要生成一个<code>64</code>位的整型随机数呢？毕竟现在的新机器都是支持<code>64</code>位的了。</p>
<p>目前貌似没有现成的函数来生成<code>64</code>位的随机数，不过<code>jstn</code>在<code>stackoverflow</code>上为我们分享了他的方法。我们一起来看看。</p>
<p>他首先定义了一个泛型函数，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">func arc4random &lt;T: IntegerLiteralConvertible&gt; (type: T.Type) -&gt; T &#123;</div><div class="line">    var r: T = 0</div><div class="line">    arc4random_buf(&amp;r, UInt(sizeof(T)))</div><div class="line">    return r</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个函数中使用了<code>arc4random_buf</code>来生成随机数。让我们通过<code>man arc4random_buf</code>来看看这个函数的定义：</p>
<blockquote>
<p>arc4random_buf() function fills the region buf of length nbytes with ARC4-derived random data.</p>
</blockquote>
<p>这个函数使用<code>ARC4</code>加密的随机数来填充该函数第二个参数指定的长度的缓存区域。因此，如果我们传入的是<code>sizeof(UInt64)</code>，该函数便会生成一个随机数来填充<code>8</code>个字节的区域，并返回给<code>r</code>。那么<code>64</code>位的随机数生成方法便可以如下实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">extension UInt64 &#123;</div><div class="line">    static func random(lower: UInt64 = min, upper: UInt64 = max) -&gt; UInt64 &#123;</div><div class="line">        var m: UInt64</div><div class="line">        let u = upper - lower</div><div class="line">        var r = arc4random(UInt64)</div><div class="line"></div><div class="line">        if u &gt; UInt64(Int64.max) &#123;</div><div class="line">            m = 1 + ~u</div><div class="line">        &#125; else &#123;</div><div class="line">            m = ((max - (u * 2)) + 1) % u</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        while r &lt; m &#123;</div><div class="line">            r = arc4random(UInt64)</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        return (r % u) + lower</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我们来试用一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UInt64.random()					// 4758246381445086013</div></pre></td></tr></table></figure>
<p>当然<code>jstn</code>还提供了<code>Int64</code>，<code>UInt32</code>，<code>Int32</code>的实现，大家可以脑补一下。</p>
<h3 id="浮点型随机数"><a href="#浮点型随机数" class="headerlink" title="浮点型随机数"></a>浮点型随机数</h3><p>如果需要一个浮点值的随机数，则可以使用<code>drand48</code>函数，这个函数产生一个<code>[0.0, 1.0]</code>区间中的浮点数。这个函数的返回值是<code>Double</code>类型。其使用如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">srand48(Int(time(nil)))</div><div class="line">drand48()						// 0.396464773760275</div></pre></td></tr></table></figure>
<p>记住这个函数是需要先调用<code>srand48</code>生成一个种子的初始值。</p>
<h3 id="一个小示例"><a href="#一个小示例" class="headerlink" title="一个小示例"></a>一个小示例</h3><p>最近写了一个随机键盘，需要对<code>0-9</code>这几个数字做个随机排序，正好用上了上面的<code>arc4random</code>函数，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">let arr = [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;]</div><div class="line"></div><div class="line">let numbers = arr.sort &#123; (_, _) -&gt; Bool in</div><div class="line">    arc4random() &lt; arc4random()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在闭包中，随机生成两个数，比较它们之间的大小，来确定数组的排序规则。还是挺简单的。</p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>其实如果翻看一下<code>Swift</code>中关于<code>C</code>函数的<code>API</code>，发现还有许多跟随机数相关的函数，如<code>arc4random_addrandom</code>，<code>erand48</code>等。上面的只是我们经常用到的一些函数，这几个函数基本上够用了。当然，不同场景有不同的需求，我们需要根据实际的需求来选择合适的函数。</p>
<p>以上的代码已上传到<code>github</code>，地址是<a href="https://github.com/southpeak/Swift/tree/master/Basic/Random.playground" target="_blank" rel="external">Random.playground</a>有需要的可以参考一下。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ol>
<li><a href="http://nshipster.com/random/" target="_blank" rel="external">rand(3) / random(3) / arc4random(3) / et al.</a></li>
<li><a href="https://medium.com/@skreutzb/random-swift-102c23cd1755" target="_blank" rel="external">Random Swift</a></li>
<li><a href="http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language" target="_blank" rel="external">How does one generate a random number in Apple’s Swift language?</a></li>
</ol>
<h2 id="Swift中String与CChar数组的转换"><a href="#Swift中String与CChar数组的转换" class="headerlink" title="Swift中String与CChar数组的转换"></a>Swift中String与CChar数组的转换</h2><p>在现阶段<code>Swift</code>的编码中，我们还是有很多场景需要调用一些<code>C</code>函数。在<code>Swift</code>与<code>C</code>的混编中，经常遇到的一个问题就是需要在两者中互相转换字符串。在<code>C</code>语言中，字符串通常是用一个<code>char数组</code>来表示，在<code>Swift</code>中，是用<code>CChar数组</code>来表示。从<code>CChar</code>的定义可以看到，其实际上是一个<code>Int8</code>类型，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">/// The C &apos;char&apos; type.</div><div class="line">///</div><div class="line">/// This will be the same as either `CSignedChar` (in the common</div><div class="line">/// case) or `CUnsignedChar`, depending on the platform.</div><div class="line">public typealias CChar = Int8</div></pre></td></tr></table></figure>
<p>如果我们想将一个<code>String</code>转换成一个<code>CChar数组</code>，则可以使用<code>String</code>的<code>cStringUsingEncoding</code>方法，它是<code>String</code>扩展中的一个方法，其声明如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">/// Returns a representation of the `String` as a C string</div><div class="line">/// using a given encoding.</div><div class="line">@warn_unused_result</div><div class="line">public func cStringUsingEncoding(encoding: NSStringEncoding) -&gt; [CChar]?</div></pre></td></tr></table></figure>
<p>参数指定的是编码格式，我们一般指定为<code>NSUTF8StringEncoding</code>，因此下面这段代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let str: String = &quot;abc1个&quot;</div><div class="line"></div><div class="line">// String转换为CChar数组</div><div class="line">let charArray: [CChar] = str.cStringUsingEncoding(NSUTF8StringEncoding)!</div></pre></td></tr></table></figure>
<p>其输出结果是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[97, 98, 99, 49, -28, -72, -86, 0]</div></pre></td></tr></table></figure>
<p>可以看到<code>&quot;个&quot;</code>字由三个字节表示，这是因为<code>Swift</code>的字符串是<code>Unicode</code>编码格式，一个字符可能由1个或多个字节组成。另外需要注意的是<code>CChar</code>数组的最后一个元素是<code>0</code>，它表示的是一个字符串结束标志符<code>\n</code>。</p>
<p>我们知道，在<code>C</code>语言中，一个数组还可以使用指针来表示，所以字符串也可以用<code>char *</code>来表示。在<code>Swift中</code>，指针是使用<code>UnsafePointer</code>或<code>UnsafeMutablePointer</code>来包装的，因此，<code>char指针</code>可以表示为<code>UnsafePointer&lt;CChar&gt;</code>，不过它与<code>[CChar]</code>是两个不同的类型，所以以下代码会报编译器错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// Error: Cannot convert value of type &apos;[CChar]&apos; to specified type &apos;UnsafePointer&lt;CChar&gt;&apos;</div><div class="line">let charArray2: UnsafePointer&lt;CChar&gt; = str.cStringUsingEncoding(NSUTF8StringEncoding)!</div></pre></td></tr></table></figure>
<p>不过有意思的是我们可以直接将<code>String</code>字符串传递给带有<code>UnsafePointer&lt;CChar&gt;</code>参数的函数或方法，如以下代码所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">func length(s: UnsafePointer&lt;CChar&gt;) &#123;</div><div class="line">    print(strlen(s))</div><div class="line">&#125;</div><div class="line"></div><div class="line">length(str)</div><div class="line"></div><div class="line">// 输出：7\n</div></pre></td></tr></table></figure>
<p>而<code>String</code>字符串却不能传递给带有<code>[CChar]</code>参数的函数或方法，如以下代码会报错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">func length2(s: [CChar]) &#123;</div><div class="line">    print(strlen(s))</div><div class="line">&#125;</div><div class="line"></div><div class="line">// Error: Cannot convert value of type &apos;String&apos; to expected argument type &apos;[CChar]&apos;</div><div class="line">length2(str)</div></pre></td></tr></table></figure>
<p>实际上，在<code>C</code>语言中，我们在使用数组参数时，很少以数组的形式来定义参数，则大多是通过指针方式来定义数组参数。</p>
<p>如果想从<code>[CChar]</code>数组中获取一上<code>String</code>字符串，则可以使用<code>String</code>的<code>fromCString</code>方法，其声明如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">/// Creates a new `String` by copying the nul-terminated UTF-8 data</div><div class="line">/// referenced by a `CString`.</div><div class="line">///</div><div class="line">/// Returns `nil` if the `CString` is `NULL` or if it contains ill-formed</div><div class="line">/// UTF-8 code unit sequences.</div><div class="line">@warn_unused_result</div><div class="line">public static func fromCString(cs: UnsafePointer&lt;CChar&gt;) -&gt; String?</div></pre></td></tr></table></figure>
<p>从注释可以看到，它会将<code>UTF-8</code>数据拷贝以新字符串中。如下示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let chars: [CChar] = [99, 100, 101, 0]</div><div class="line">let str2: String = String.fromCString(chars)!</div><div class="line"></div><div class="line">// 输出：cde</div></pre></td></tr></table></figure>
<p>这里需要注意的一个问题是，<code>CChar</code>数组必须以<code>0</code>结束，否则会有不可预料的结果。在我的<code>Playground</code>示例代码中，如果没有<code>0</code>，报了以下错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Execution was interrupted. reason: EXC_BAD_INSTRUCTION</div></pre></td></tr></table></figure>
<p>还有可能出现的情况是<code>CChar</code>数组的存储区域正好覆盖了之前某一对象的区域，这一对象有一个可以表示字符串结尾的标识位，则这时候，<code>str2</code>输出的可能是<code>&quot;cde1一&quot;</code>。</p>
<h3 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h3><p>在<code>Swift</code>中，<code>String</code>是由独立编码的<code>Unicode</code>字符组成的，即<code>Character</code>。一个<code>Character</code>可能包括一个或多个字节。所以将<code>String</code>字符串转换成<code>C</code>语言的<code>char *</code>时，数组元素的个数与<code>String</code>字符的个数不一定相同(即在<code>Swift</code>中，与<code>str.characters.count</code>计算出来的值不一定相等)。这一点需要注意。另外还需要注意的就是将<code>CChar</code>数组转换为<code>String</code>时，数组最后一个元素应当为字符串结束标志符，即<code>0</code>。</p>
<h3 id="参考-1"><a href="#参考-1" class="headerlink" title="参考"></a>参考</h3><ol>
<li><a href="https://forums.developer.apple.com/thread/9386" target="_blank" rel="external">UTF8String</a></li>
<li><a href="https://developer.apple.com/library/prerelease/ios/documentation/Swift/Reference/Swift_String_Structure/#//apple_ref/swift/structcm/String/s:ZFSS11fromCStringFMSSFGVSs13UnsafePointerVSs4Int8_GSqSS_" target="_blank" rel="external">String Structure Reference</a></li>
<li><a href="http://wiki.jikexueyuan.com/project/swift/chapter2/03_Strings_and_Characters.html#counting_characters" target="_blank" rel="external">The Swift Programming Language中文版</a></li>
</ol>
<h2 id="Swift中Selector方法的访问权限控制问题"><a href="#Swift中Selector方法的访问权限控制问题" class="headerlink" title="Swift中Selector方法的访问权限控制问题"></a>Swift中Selector方法的访问权限控制问题</h2><p>今天用<code>Swift</code>写了个视图，在视图上加个手势，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">panGestureRecognizer = UIPanGestureRecognizer(target: self, action: &quot;beginDragged:&quot;)</div><div class="line">addGestureRecognizer(panGestureRecognizer)</div></pre></td></tr></table></figure>
<p>运行了下程序，然后崩溃了。崩溃日志如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[**.SwipeCardView beginDragged:]: unrecognized selector sent to instance 0x125e5bc10</div></pre></td></tr></table></figure>
<p>而我已经在<code>SwipeCardView</code>类中定义了<code>beginDragged:</code>方法，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">private func beginDragged(gestureRecognizer: UIPanGestureRecognizer) &#123;</div><div class="line">	// ....</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>由于我并不想将<code>beginDragged:</code>方法暴露出去，所以将其定义为一个<code>private</code>方法。方法的定义一切正常，手势的<code>Selector</code>方法也设置正常，却报了未找到方法的异常。那问题可能就应该在访问权限问题上了。</p>
<p>我们知道<code>Selector</code>是<code>Objective-C</code>的产物，它用于在运行时作为一个键值去找到对应方法的实现。一个<code>Objective-C</code>的方法是由<code>objc_method</code>结束体定义的，其声明如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">struct objc_method &#123;</div><div class="line"></div><div class="line">    SEL method_name                 	OBJC2_UNAVAILABLE;  // 方法名</div><div class="line">    char *method_types                  OBJC2_UNAVAILABLE;</div><div class="line">    IMP method_imp                      OBJC2_UNAVAILABLE;  // 方法实现</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这就要求<code>selector</code>引用的方法必须对<code>ObjC</code>运行时是可见的。而<code>Swift</code>是静态语言，虽然继承自<code>NSObject</code>的类默认对<code>ObjC</code>运行时是可见的，但如果方法是由<code>private</code>关键字修饰的，则方法默认情况下对<code>ObjC</code>运行时并不是可见的，所以就导致了以上的异常：运行时并没找到<code>SwipeCardView</code>类的<code>beginDragged:</code>方法。</p>
<p>所以，我们必须将<code>private</code>修饰的方法暴露给运行时。正确的做法是在 <code>private</code> 前面加上 <code>@objc</code> 关键字，这样就OK了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@objc private func beginDragged(gestureRecognizer: UIPanGestureRecognizer) &#123;</div><div class="line">	// ....</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>另外需要注意的是，如果我们的类是纯<code>Swift</code>类，而不是继承自<code>NSObject</code>，则不管方法是<code>private</code>还是<code>internal</code>或<code>public</code>，如果要用在<code>Selector</code>中，都需要加上<code>@objc</code>修饰符。</p>
<h3 id="参考-2"><a href="#参考-2" class="headerlink" title="参考"></a>参考</h3><ol>
<li><a href="http://swifter.tips/selector/" target="_blank" rel="external">SELECTOR</a></li>
<li><a href="http://stackoverflow.com/questions/24007650/selector-in-swift" target="_blank" rel="external">@selector() in Swift?</a></li>
</ol>
<h2 id="零碎"><a href="#零碎" class="headerlink" title="零碎"></a>零碎</h2><h3 id="Swift中枚举项设置相同的值"><a href="#Swift中枚举项设置相同的值" class="headerlink" title="Swift中枚举项设置相同的值"></a>Swift中枚举项设置相同的值</h3><p>在<code>Objective-C</code>及<code>C</code>语言中，在枚举中我们可以设置两个枚举项的值相等，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">typedef NS_ENUM(NSUInteger, Type) &#123;</div><div class="line">    TypeIn      = 0,</div><div class="line">    TypeOut     = 1,</div><div class="line">    TypeInOut   = 2,</div><div class="line">    TypeDefault = TypeIn</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>在上例中，我们让枚举项<code>TypeDefault</code>的值等于<code>TypeIn</code>。</p>
<p>而在<code>Swift</code>中，要求枚举项的<code>rawValue</code>是唯一的，如果像下面这样写，则编译器会报错：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">enum Type: UInt &#123;</div><div class="line">    case In         = 0</div><div class="line">    case Out        = 1</div><div class="line">    case InOut      = 2</div><div class="line">    case Default    = 0		// Error: Raw value for enum case is not unique</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>那如果我们希望上面枚举中<code>Default</code>的值与<code>In</code>的值一样，那应该怎么做呢？这时候就需要充分利用<code>Swift</code>中<code>enum</code>的特性了。我们知道，<code>Swift</code>中的<code>enum</code>与结构体、类一样，可以为其定义属性和方法，所以我们可以如下处理：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">enum Type: UInt &#123;</div><div class="line">    case In         = 0</div><div class="line">    case Out        = 1</div><div class="line">    case InOut      = 2</div><div class="line"></div><div class="line">    static var Default: Type &#123;</div><div class="line">        get &#123;</div><div class="line">            return .In</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我们将<code>Default</code>定义为<code>Type</code>的一个静态只读属性，这个属性与枚举的其它枚举项的调用方式是一样的，可以如下调用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">let type: Type = .Default</div></pre></td></tr></table></figure>
<h4 id="参考-3"><a href="#参考-3" class="headerlink" title="参考"></a>参考</h4><ol>
<li><a href="http://stackoverflow.com/questions/28037772/swift-enum-multiple-cases-with-the-same-value" target="_blank" rel="external">Swift enum multiple cases with the same value</a></li>
</ol>
<h3 id="Swift中如何实现IBOutletCollection"><a href="#Swift中如何实现IBOutletCollection" class="headerlink" title="Swift中如何实现IBOutletCollection"></a>Swift中如何实现IBOutletCollection</h3><p>在使用IB做界面开发时，我们经常需要将界面上的元素连接到我们的代码中。<code>IBOutlet</code>和<code>IBAction</code>就是专门用来做这事的两个关键字。另外在<code>Objective-C</code>还提供了一个伪关键字<code>IBOutletCollection</code>，它的实际作用是将界面上的一组相同的控件连接到一个数组中。具体可以参考<a href="http://southpeak.github.io/blog/2015/05/10/ioszhi-shi-xiao-ji-di-%5B%3F%5D-qi-2015-dot-05-dot-10/">iOS知识小集 第一期(2015.05.10)</a>中的<code>IBOutletCollection</code>一节。</p>
<p>在<code>Swift</code>中，同样提供了<code>@IBOutlet</code>和<code>@IBAction</code>实现<code>Objective-C</code>中对应的功能，不过却没提供<code>@IBOutletCollection</code>来将一组相同控件连接到一个数组中。那如果我们想实现类似的功能，需要怎么处理呢？</p>
<p>实际上，我们在IB中选中一组相同的控件，然后将其连到到代码中时，会生成一个<code>IBOutlet</code>修饰的控件数组，类似于如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@IBOutlet var numberButtons: [UIButton]!</div></pre></td></tr></table></figure>
<p>这就是<code>Swift</code>中类<code>IBOutletCollection</code>的处理。如果需要往数组中添加新建的对应的控件，则只需要在代码前面的小圆点与UI上的控件做个连线就OK了。而如果要想将控件从数组中移除，则只需要将对应的连接关系移除就可以了。</p>
<h4 id="参考-4"><a href="#参考-4" class="headerlink" title="参考"></a>参考</h4><ol>
<li><a href="http://southpeak.github.io/blog/2015/05/10/ioszhi-shi-xiao-ji-di-%5B%3F%5D-qi-2015-dot-05-dot-10/">iOS知识小集 第一期(2015.05.10)</a></li>
<li><a href="http://stackoverflow.com/questions/24052459/swift-iboutletcollection-equivalent" target="_blank" rel="external">Swift - IBOutletCollection equivalent</a></li>
</ol>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/09/23/sourcecode-mmtweenanimation/" rel="next" title="MMTweenAnimation实现分析">
                <i class="fa fa-chevron-left"></i> MMTweenAnimation实现分析
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/10/20/ios-techset-6/" rel="prev" title="iOS知识小集 第6期(2015.10.20)">
                iOS知识小集 第6期(2015.10.20) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="南峰子" />
          <p class="site-author-name" itemprop="name">南峰子</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">86</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Swift中随机数的使用"><span class="nav-number">1.</span> <span class="nav-text">Swift中随机数的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#整型随机数"><span class="nav-number">1.1.</span> <span class="nav-text">整型随机数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#64位整型随机数"><span class="nav-number">1.2.</span> <span class="nav-text">64位整型随机数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#浮点型随机数"><span class="nav-number">1.3.</span> <span class="nav-text">浮点型随机数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#一个小示例"><span class="nav-number">1.4.</span> <span class="nav-text">一个小示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#小结"><span class="nav-number">1.5.</span> <span class="nav-text">小结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考"><span class="nav-number">1.6.</span> <span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Swift中String与CChar数组的转换"><span class="nav-number">2.</span> <span class="nav-text">Swift中String与CChar数组的转换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#小结-1"><span class="nav-number">2.1.</span> <span class="nav-text">小结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考-1"><span class="nav-number">2.2.</span> <span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Swift中Selector方法的访问权限控制问题"><span class="nav-number">3.</span> <span class="nav-text">Swift中Selector方法的访问权限控制问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#参考-2"><span class="nav-number">3.1.</span> <span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#零碎"><span class="nav-number">4.</span> <span class="nav-text">零碎</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Swift中枚举项设置相同的值"><span class="nav-number">4.1.</span> <span class="nav-text">Swift中枚举项设置相同的值</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#参考-3"><span class="nav-number">4.1.1.</span> <span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Swift中如何实现IBOutletCollection"><span class="nav-number">4.2.</span> <span class="nav-text">Swift中如何实现IBOutletCollection</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#参考-4"><span class="nav-number">4.2.1.</span> <span class="nav-text">参考</span></a></li></ol></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">南峰子</span>
  <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1000523916'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/z_stat.php%3Fid%3D1000523916%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
  </script>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  
  

  <div style="display: none;">
    <script src="http://s95.cnzz.com/z_stat.php?id=1000523916&web_id=1000523916" language="JavaScript"></script>
  </div>




</body>
</html>
